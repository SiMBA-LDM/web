<html>

<head>
	<title>SiMBA-LDM</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <meta name="theme-color" content="#563d7c">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: center;
        }
        input[type="range"] {
            width: 300px;
            margin-top: 10px;
        }
        button {
            margin: 5px;
            padding: 5px 10px;
            font-size: 16px;
        }
        #timeDisplay {
            margin-left: 10px;
        }
        .icon {
            margin-right: 5px; /* 圖示與文字間距 */
        }
    </style>
</head>

<body bgcolor="#FFFFFF" link="#000000" vlink="#000000" alink="#000000">

    <div class="text-center">
        <br>
        <!-- Title -->
        <div class="text-wrap" width="200px">
            <font face="helvetica , ariel, &#39;sans serif&#39;" size="6">
                <b>SIMBA-LDM:</br>LOW-COST TRAINING FOR TEXT-TO-MUSIC VIA SIMBA AND LATENT DIFFUSION</b><br><br>
            </font>
        </div>

        <!-- Author info -->
        <p style="font-size: 1.3em; margin-bottom: 0;">
            anonymous
        </p>
        <p style="margin-top: 0;">
            anonymous@example.com<br>
        </p>

        <!-- Click buttons -->
        <!-- <div class="m-5">
            <a class="btn btn-outline-dark" href="https://arxiv.org/abs/2311.07069" type="button"><i
                    class="bi bi-newspaper"></i> Paper</a>
            <a class="btn btn-outline-dark" href="https://youtu.be/QVr-S-DyccU" type="button"> <i
                    class="bi bi-camera-reels"></i> Video</a>
        </div> -->
        <div class="container mt-4" style="max-width: 1000px;">
            <div class="container">
                <div class="section">

                    <!-- # Show video -->
                    <!-- <div class="embed-responsive embed-responsive-16by9">
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/QVr-S-DyccU?si=zrU456y3XL6FFp51" frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen></iframe>
                    </div>
                    <br> -->

                    <!-- Show Abstract -->
                    <h1 class="text-justify">Abstract</h1>
                    <hr>
                    <p class="pr-5 pl-5 text-justify">
                        Text-to-music (TTM) generation models have garnered significant interest, yet their training 
                        from scratch requires extensive GPU resources and large datasets. While finetuning leverages 
                        pretrained weights, it remains limited by the base model's inherent behavior. To make TTM 
                        training more accessible, we introduce a two-stage framework that leverages the coarse-to-fine 
                        structure of audio codec representations. The first stage constructs an autoregressive music 
                        language model (LM) using SiMBA---a state-space model that outperforms Transformer architectures 
                        in efficiency---to generate tokens for the coarse codec layers. The second stage uses a diffusion 
                        model to generate finer-layer tokens conditioned on the coarse tokens, simplifying the LM's task 
                        and enabling the second stage to act as a reusable vocoder. This design enhances flexibility, 
                        allowing experimentation with diverse LM architectures or token conditioning methods. Trained on 
                        a public dataset of 54,894 instrumental track-text pairs, our SiMBA LM with approximately 280M 
                        parameters outperforms its Transformer counterpart in both training efficiency and objective metrics. 
                        Moreover, our user study shows that the proposed model achieves competitive music generation 
                        quality with the official MusicGen-Small model while using only 9% of its FLOPs, making training 
                        feasible on a single consumer-grade GPU.
                    </p>
                </div><br>

                <!-- Bibtex -->
                <!-- <div class="section text-left" div style='text-align:left'>
                    <h1>Bibtex</h1>
                    <div style="background-color: #e9ecef; text-align:left;" >
                        <pre>
                            <code>
                                @article{Wu2023MusicControlNet,
                                    title={Music ControlNet: Multiple Time-varying Controls for Music Generation}, 
                                    author={Wu, Shih-Lun and Donahue, Chris and Watanabe, Shinji and Bryan, Nicholas J.},
                                    year={2023},
                                    eprint={TBD},
                                    archivePrefix={arXiv},
                                    primaryClass={cs.SD}
                            }</code>
                        </pre>
                    </div>
                </div> -->
                <h1 class="text-justify">Demo Audio Samples</h1>
                <hr>
                <!-- Show the codec layers' difference -->
                <div class="section text-justify">
                    <!-- Description -->
                    <h2>Reconstructed Audio With Differnt Layers of RVQ tokens by DAC</h2>
                    Here demonstrating the audio samples that is reconstructed by DAC with differnt layers of RVQ tokens.
                    <!-- Table -->
                    <table class="table table-sm text-center" style="vertical-align: middle;">
                        <tbody>
                            <tr>
                                <td colspan="6">
                                    <h5 class="text-center">Original Audio</h5>
                                </td>
                                <td colspan="6">
                                    <h5 class="text-center">1 Layer</h5>
                                </td>
                                <td colspan="6">
                                    <h5 class="text-center">3 Layers</h5>
                                </td>
                                <td colspan="6">
                                    <h5 class="text-center">6 Layers</h5>
                                </td>
                                <td colspan="6">
                                    <h5 class="text-center">9 Layers (Full)</h5>
                                </td>
                            </tr>
                                <tr>
                                    <td colspan="6">
                                        <button id="btn1" onclick="toggleAudio('dac/1/ori.wav', this)"><i class="fas fa-play icon"></i></button>
                                        <!-- <button onclick="playAudio('dac/1/ori.wav')">Play</button> -->
                                        <!-- 進度條 -->
                                        <!-- <div> -->
                                        <input type="range" id="progressBar" value="0" min="0" max="100" step="1">
                                        <span id="timeDisplay">0:00 / 0:00</span>
                                        <!-- </div> -->
                                    </td>
                                    <td colspan="6">
                                        <button onclick="playAudio('dac/1/1_tokens.wav')">Play</button>
                                        <input type="range" id="progressBar" value="0" min="0" max="100" step="1">
                                        <span id="timeDisplay">0:00 / 0:00</span>
                                    </td>
                                    <td colspan="6">
                                        <button onclick="playAudio('dac/1/3_tokens.wav')">Play</button>
                                        <input type="range" id="progressBar" value="0" min="0" max="100" step="1">
                                        <span id="timeDisplay">0:00 / 0:00</span>
                                    </td>
                                    <td colspan="6">
                                        <button onclick="playAudio('dac/1/6_tokens.wav')">Play</button>
                                        <input type="range" id="progressBar" value="0" min="0" max="100" step="1">
                                        <span id="timeDisplay">0:00 / 0:00</span>
                                    </td>
                                    <td colspan="6">
                                        <button onclick="playAudio('dac/1/9_tokens.wav')">Play</button>
                                        <input type="range" id="progressBar" value="0" min="0" max="100" step="1">
                                        <span id="timeDisplay">0:00 / 0:00</span>
                                    </td>
                                </tr>
                                <!-- <tr>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/1/ori.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/1/1_tokens.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/1/3_tokens.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/1/6_tokens.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/1/9_tokens.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/2/ori.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/2/1_tokens.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/2/3_tokens.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/2/6_tokens.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/2/9_tokens.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/3/ori.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/3/1_tokens.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/3/3_tokens.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/3/6_tokens.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                    <td colspan="6">
                                        <audio controls>
                                            <source src="dac/3/9_tokens.wav" type="audio/mp3">
                                        Your browser does not support the audio element.
                                        </audio>
                                    </td>
                                </tr> -->
                        </tbody>
                    </table>
                </div>

                <!-- Exp 1 (SiMBA vs Transformer) -->
                <div class="section text-justify">
                    <!-- Description -->
                    <h2>SSM vs. Transformer-based LM (Cherry-picked)</h2>
                    This is the exp1
                    <!-- Table -->
                    <table class="table table-sm text-center" style="vertical-align: middle;">
                        <tbody>
                            <tr>
                                <td colspan="24">
                                    <h5 class="text-center">Samples at 20k Training Steps</h5>
                                </td>
                            </tr>
                                <tr>
                                    <td colspan="8">
                                        <h5 class="text-center">Text Prompt</h5>
                                    </td>
                                    <td colspan="8">
                                        <h5 class="text-center">Prefix SiMBA</h5>
                                    </td>
                                    <td colspan="8">
                                        <h5 class="text-center">Cross Transformer</h5>
                                    </td>
                                </tr>
                                <tr>
                            
                            <td colspan="24">
                                <h5 class="text-center">Samples at 85k Training Steps</h5>
                            </td>
                                </tr>
                                    <tr>
                                        <td colspan="8">
                                            <h5 class="text-center">Text Prompt</h5>
                                        </td>
                                        <td colspan="8">
                                            <h5 class="text-center">Prefix SiMBA</h5>
                                        </td>
                                        <td colspan="8">
                                            <h5 class="text-center">Cross Transformer</h5>
                                        </td>
                                    </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- Exp 2 (SiMBA-LDM vs SOTA) -->
                <div class="section text-justify">
                    <!-- Description -->
                    <h2>SSM vs. Transformer-based LM (Cherry-picked)</h2>
                    This is the exp1
                    <!-- Table -->
                    <table class="table table-sm text-center" style="vertical-align: middle;">
                        <tbody>

                        </tbody>
                    </table>
                </div>

            </div>
        </div>

    </div>


    <script>
        // Add JavaScript to toggle the collapsible content
        var buttons = document.querySelectorAll(".collapsible-button");
        buttons.forEach(function (button) {
            button.addEventListener("click", function () {
                var content = this.nextElementSibling;
                if (content.style.display === "block") {
                    content.style.display = "none";
                } else {
                    content.style.display = "block";
                }
            });
        });

        // Play Audio
        // let currentAudio = null; // 追蹤當前播放的音檔

        // function playAudio(audioId) {
        //     // 取得所有 audio 元素
        //     const audios = document.getElementsByTagName('audio');
            
        //     // 暫停並重置所有正在播放的音檔
        //     for (let audio of audios) {
        //         if (audio !== document.getElementById(audioId)) {
        //             audio.pause();
        //             audio.currentTime = 0; // 可選：將播放進度重置到開始
        //         }
        //     }

        //     // 播放新的音檔
        //     const newAudio = document.getElementById(audioId);
        //     newAudio.play();
        //     currentAudio = newAudio;
        // }
        const audioPlayer = new Audio();
        const progressBar = document.getElementById('progressBar');
        const timeDisplay = document.getElementById('timeDisplay');
        let currentButton = null;

        function toggleAudio(src, button) {
            if (audioPlayer.src !== location.origin + '/' + src) {
                audioPlayer.pause();
                audioPlayer.src = src;
                audioPlayer.play();
                updateButtonState(button, true);
                updateProgress();
            } else {
                if (audioPlayer.paused) {
                    audioPlayer.play();
                    updateButtonState(button, true);
                } else {
                    audioPlayer.pause();
                    updateButtonState(button, false);
                }
            }
        }

        // 更新按鈕狀態（切換圖示）
        function updateButtonState(button, isPlaying) {
            // 重置所有按鈕圖示
            document.querySelectorAll('button').forEach(btn => {
                const icon = btn.querySelector('i');
                icon.classList.remove('fa-pause');
                icon.classList.add('fa-play');
            });
            // 更新當前按鈕
            if (currentButton && currentButton !== button) {
                const oldIcon = currentButton.querySelector('i');
                oldIcon.classList.remove('fa-pause');
                oldIcon.classList.add('fa-play');
            }
            currentButton = button;
            const currentIcon = currentButton.querySelector('i');
            if (isPlaying) {
                currentIcon.classList.remove('fa-play');
                currentIcon.classList.add('fa-pause');
            } else {
                currentIcon.classList.remove('fa-pause');
                currentIcon.classList.add('fa-play');
            }
        }

        function updateProgress() {
            audioPlayer.addEventListener('timeupdate', () => {
                if (!progressBar.dragging) {
                    const currentTime = audioPlayer.currentTime;
                    const duration = audioPlayer.duration || 0;
                    const progress = (currentTime / duration) * 100 || 0;
                    progressBar.value = progress;

                    const currentMins = Math.floor(currentTime / 60);
                    const currentSecs = Math.floor(currentTime % 60).toString().padStart(2, '0');
                    const totalMins = Math.floor(duration / 60);
                    const totalSecs = Math.floor(duration % 60).toString().padStart(2, '0');
                    timeDisplay.textContent = `${currentMins}:${currentSecs} / ${totalMins}:${totalSecs}`;
                }
            });

            audioPlayer.addEventListener('loadedmetadata', () => {
                progressBar.max = 100;
            });

            audioPlayer.addEventListener('ended', () => {
                updateButtonState(currentButton, false);
                progressBar.value = 0;
            });
        }

        progressBar.addEventListener('input', () => {
            const duration = audioPlayer.duration || 0;
            const newTime = (progressBar.value / 100) * duration;
            audioPlayer.currentTime = newTime;
        });

        progressBar.addEventListener('mousedown', () => {
            progressBar.dragging = true;
        });

        progressBar.addEventListener('mouseup', () => {
            progressBar.dragging = false;
        });

        progressBar.addEventListener('touchstart', () => {
            progressBar.dragging = true;
        });

        progressBar.addEventListener('touchend', () => {
            progressBar.dragging = false;
        });
    </script>

</body>

</html>
